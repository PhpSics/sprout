<app-header></app-header>
<section class="inner_cont_body">
    <div class="container-fluid main_bg_white">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <app-side-menu></app-side-menu>

                <div class="admin_menus">
                    <div class="my_transport_all bg_admin_one">
                        <div class="goBack">
                            <a routerLink="/dashboard" class="btn"><i class="fa fa-chevron-left"></i> Back to Home</a>
                        </div>

                        <div class="transport_title">
                            <h3>Teacher Calendar</h3>
                            <a class="btn btn_goback" data-toggle="modal" data-target="#transport"><i class="fa fa-plus-circle"></i>
                          Add New</a>
                        </div>

                        <div class="search_div cls_mngmnt">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                    <select class="form-control" (change)="changeClass($event)" name="classId" [(ngModel)]="model.classId">
                                <option value="">Select Class</option>
                                <option *ngFor="let class of classes; let i = index;" [attr.data-stream]="class.streamId"  [attr.data-index]="i" [attr.data-class]="class.classId" [attr.data-role]="class.roleId" value="{{i}}">{{class.className}} {{class.streamName}}</option>
                              </select>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                    <select class="form-control" (change)="changeSubject($event.target.value)" name="subjectId" [(ngModel)]="model.subjectId">
                                    <option value="">Select Subject</option>
                                    <option *ngFor="let subject of subjects" value="{{subject.sId}}">{{subject.sName}}</option>
                                  </select>
                                </div>
                            </div>
                        </div>

                        <div class="tst_assmnt">
                            <div class="row text-center bg_white">
                                <div class="col-md-4">
                                    <div class="btn-group">
                                        <div class="btn btn-primary" mwlCalendarPreviousView (click)="getTeacherEvents(viewDate)" [view]="view" [(viewDate)]="viewDate">
                                            Previous
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group">
                                        <div class="btn btn-primary" mwlCalendarNextView (click)="getTeacherEvents(viewDate)" [view]="view" [(viewDate)]="viewDate">
                                            Next
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="calendar_main">
                                <mwl-calendar-month-view [events]="events" [viewDate]="viewDate" (dayClicked)="dayClicked($event.day)">
                                </mwl-calendar-month-view>
                            </div>
                            <div *ngIf="ShowTable" class="table-responsive">
                                <table class="table custom_table_one table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Event</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="EventList.length>0">
                                        <tr *ngFor="let Event of EventList">
                                            <td>{{Event.title}}</td>
                                            <td>{{Event.start | date}}</td>
                                        </tr>
                                    </tbody>
                                    <tbody *ngIf="EventList.length==0">
                                        <tr>
                                            <td colspan="2" class="t-align">No Events</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- ./admin_menus -->
            </div>
            <!-- ./col-lg-12 col-md-12 col-sm-12 col-xs-12 -->
        </div>
        <!-- ./row -->
    </div>
    <!-- ./container-fluid -->
</section>
<!-- ./inner_cont_body -->

<div id="transport" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Event</h4>
                <button type="button" class="close" data-dismiss="modal" #closeBtn>&times;</button>
            </div>
            <!-- ./modal-header -->
            <div class="modal-body">

                <div class="popup_p">
                    <form [formGroup]="termForm" (ngSubmit)='saveEvent()' id="event-Frm">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Topic" [ngClass]="{'error': submitted && f.eventTopic.errors}" formControlName="eventTopic">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Task" [ngClass]="{'error': submitted && f.eventTask.errors}" formControlName="eventTask">
                        </div>
                        <div class="form-group">
                            <input class="form-control" matInput [matDatepicker]="picker4" placeholder="Event Date" formControlName="eventDate" id="start" (click)="picker4.open()" [ngClass]="{'error': submitted && f.eventDate.errors}" readonly>
                            <mat-datepicker #picker4></mat-datepicker>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Start Time" formControlName="eventStarttime" [ngxTimepicker]="picker2" [ngClass]="{'error': submitted && f.eventStarttime.errors}">
                            <ngx-material-timepicker #picker2></ngx-material-timepicker>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="End Time" formControlName="eventEndtime" [ngxTimepicker]="picker3" [ngClass]="{'error': submitted && f.eventEndtime.errors}">
                            <ngx-material-timepicker #picker3></ngx-material-timepicker>
                        </div>

                        <div class="form-group">
                            <ng-multiselect-dropdown [placeholder]="'Select Teachers'" [data]="teachers" name="guestteacher" formControlName="guestteacher" [settings]="dropdownSettings">
                            </ng-multiselect-dropdown>
                        </div>
                        <div class="form-group">
                            <ng-multiselect-dropdown [placeholder]="'Select Classes'" [data]="classes" name="guestClass" formControlName="guestClass" [settings]="dropdownSettings1">
                            </ng-multiselect-dropdown>


                        </div>
                        <div class="form-group">
                            <input type="submit" class="btn" value="Submit">
                        </div>
                    </form>
                </div>

            </div>
            <!-- ./modal-body -->
        </div>
        <!-- ./modal-content -->

    </div>
    <!-- ./modal-dialog -->
</div>
<!-- #/transport -->

<app-footer></app-footer>